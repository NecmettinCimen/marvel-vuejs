import{d as B,a as b,u as L,c as k,b as a,o as r,e,t as m,h as v,r as f,f as $,g as w,w as M,i as h,v as D,n as N,k as y,j as n,F as V,l as F,m as x}from"./index-DcLrM0Gh.js";import{i as _,_ as P,B as E}from"./BaseLayout-Uf1RGXwa.js";import{P as U}from"./Pagination-BcJWy293.js";const A=B("comics",{state:()=>({comics:[],selectedComic:null,loading:!1,error:null,currentPage:1,itemsPerPage:20,total:0,searchQuery:""}),getters:{totalPages:l=>Math.ceil(l.total/l.itemsPerPage)},actions:{async fetchComics(l=1,t=""){this.loading=!0,this.searchQuery=t;try{const o=(l-1)*this.itemsPerPage,d=await _.get(`/marvel-api-net-core/v1/public/comics?offset=${o}&titleStartsWith=${t}`);this.comics=d.data.data.results,this.total=d.data.data.total,this.currentPage=l}catch(o){o instanceof Error?this.error=o.message:this.error=String(o),console.error("Failed to fetch comics:",o)}finally{this.loading=!1}},async fetchComicById(l){this.loading=!0;try{const t=await _.get(`/marvel-api-net-core/v1/public/comics/${l}`);this.selectedComic=t.data.data.results[0]}catch(t){t instanceof Error?this.error=t.message:this.error=String(t),console.error("Failed to fetch comics:",t)}finally{this.loading=!1}}}}),I=["src","alt"],K={class:"comic-info"},z={class:"comic-title"},Q={class:"comic-details"},T={key:0,class:"comic-detail"},j={key:1,class:"comic-detail"},J={key:2,class:"comic-detail"},R={key:3,class:"comic-detail"},O=b({__name:"ComicCard",props:{comic:{}},setup(l){const t=l,o=L(),d=k(()=>t.comic.thumbnail.path+"."+t.comic.thumbnail.extension),g=()=>{o.push({name:"ComicDetail",params:{id:t.comic.id}})};return(i,C)=>(r(),a("div",{class:"comic-card",onClick:g},[e("img",{src:d.value,alt:i.comic.title,class:"comic-image"},null,8,I),e("div",K,[e("h3",z,m(i.comic.title),1),e("div",Q,[i.comic.issueNumber?(r(),a("p",T,"Issue #: "+m(i.comic.issueNumber),1)):v("",!0),i.comic.variantDescription?(r(),a("p",j," Variant: "+m(i.comic.variantDescription),1)):v("",!0),i.comic.prices&&i.comic.prices.length>0?(r(),a("p",J," Price: $"+m(i.comic.prices[0].price),1)):v("",!0),i.comic.pageCount?(r(),a("p",R,"Pages: "+m(i.comic.pageCount),1)):v("",!0)])])]))}}),W=P(O,[["__scopeId","data-v-cf96a939"]]),G={class:"comics-page-section"},H={class:"filter-sort-bar"},X={class:"search-input-wrapper"},Y={class:"filter-sort-group-full"},Z={class:"dropdown-wrapper"},q={class:"dropdown-wrapper"},ee={class:"dropdown-wrapper"},se={key:0,class:"loading-message"},te={key:1,class:"error-message"},oe={key:2,class:"no-results-message"},ie={key:3,class:"comic-grid-comics-page"},re={key:4,class:"pagination-wrapper"},ae=b({__name:"ComicsPage",setup(l){const t=A(),o=f(""),d=f("releaseDate"),g=f(""),i=f(""),C=k(()=>{let u=t.comics;return o.value&&(u=u.filter(s=>s.title.toLowerCase().includes(o.value.toLowerCase())||s.issueNumber&&s.issueNumber.toString().includes(o.value))),u}),S=u=>{t.fetchComics(u,o.value)},p=()=>{t.fetchComics(1,o.value)};return $(()=>{t.fetchComics(1)}),(u,s)=>(r(),w(E,null,{default:M(()=>[e("section",G,[s[11]||(s[11]=e("h2",{class:"section-title"},"Comics",-1)),s[12]||(s[12]=e("p",{class:"section-description"}," Explore the vast universe of Marvel comics, search for your favorite titles or browse by issue number, creator, and more. ",-1)),e("div",H,[e("div",X,[h(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=c=>o.value=c),onKeyup:N(p,["enter"]),placeholder:"Search comics by title or issue number",class:"filter-sort-input search-full-width"},null,544),[[D,o.value]]),e("button",{onClick:p,class:"search-button-on-input"},s[4]||(s[4]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)]))]),e("div",Y,[e("div",Z,[h(e("select",{"onUpdate:modelValue":s[1]||(s[1]=c=>d.value=c),onChange:p,class:"filter-sort-select"},s[5]||(s[5]=[e("option",{value:"releaseDate"},"Sort by: Release Date",-1),e("option",{value:"title"},"Sort by: Title",-1)]),544),[[y,d.value]]),s[6]||(s[6]=e("div",{class:"select-arrow"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor",class:"arrow-icon"},[e("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 6.757 7.586 5.343 9z"})])],-1))]),e("div",q,[h(e("select",{"onUpdate:modelValue":s[2]||(s[2]=c=>g.value=c),onChange:p,class:"filter-sort-select"},s[7]||(s[7]=[e("option",{value:""},"Filter by: Series",-1),e("option",{value:"Spider-Man"},"Spider-Man",-1),e("option",{value:"Avengers"},"Avengers",-1)]),544),[[y,g.value]]),s[8]||(s[8]=e("div",{class:"select-arrow"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor",class:"arrow-icon"},[e("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 6.757 7.586 5.343 9z"})])],-1))]),e("div",ee,[h(e("select",{"onUpdate:modelValue":s[3]||(s[3]=c=>i.value=c),onChange:p,class:"filter-sort-select"},s[9]||(s[9]=[e("option",{value:""},"Filter by: Creator",-1),e("option",{value:"Stan Lee"},"Stan Lee",-1),e("option",{value:"Jack Kirby"},"Jack Kirby",-1)]),544),[[y,i.value]]),s[10]||(s[10]=e("div",{class:"select-arrow"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor",class:"arrow-icon"},[e("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 6.757 7.586 5.343 9z"})])],-1))])])]),n(t).loading?(r(),a("div",se,"Loading comics...")):n(t).error?(r(),a("div",te,"Error: "+m(n(t).error),1)):C.value.length===0?(r(),a("div",oe," No comics found. ")):(r(),a("div",ie,[(r(!0),a(V,null,F(n(t).comics,c=>(r(),w(W,{key:c.id,comic:c},null,8,["comic"]))),128))])),n(t).total>n(t).itemsPerPage?(r(),a("div",re,[x(U,{"current-page":n(t).currentPage,"total-items":n(t).total,"items-per-page":n(t).itemsPerPage,onPageChange:S},null,8,["current-page","total-items","items-per-page"])])):v("",!0)])]),_:1}))}}),de=P(ae,[["__scopeId","data-v-2ac37227"]]);export{de as default};
