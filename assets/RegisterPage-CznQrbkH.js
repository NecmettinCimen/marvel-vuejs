import{a as B,R as U,r,h as q,w as _,o as n,e as s,x as M,n as w,b as d,i as y,j as c,v as p,z as b,t as h,y as x,u as A}from"./index-CtxmlxRO.js";import{B as E,_ as N}from"./BaseLayout-Bg9jRvwn.js";const T={class:"register-page-container"},L={class:"register-card"},D={class:"form-group"},I={class:"form-group"},S={class:"form-group"},Y={class:"form-group"},j={key:0,class:"error-message"},z={key:1,class:"success-message"},J=["disabled"],F={key:0,class:"spinner"},G={key:1},H={class:"login-link"},K=B({__name:"RegisterPage",setup(O){const R=A(),m=U.useReCaptcha(),i=r(""),f=r(""),l=r(""),v=r(""),a=r(null),u=r(null),o=r(!1),C=()=>{},k=async()=>{a.value=null,u.value=null,o.value=!0;let g=null;if(m&&m.executeRecaptcha&&(g=await m.executeRecaptcha("register")),!g){a.value="Captcha verification failed.",o.value=!1;return}if(l.value!==v.value){a.value="Passwords do not match.",o.value=!1;return}if(l.value.length<6){a.value="Password must be at least 6 characters long.",o.value=!1;return}try{await new Promise(e=>setTimeout(e,1500)),i.value&&f.value&&l.value?(u.value="Registration successful! You can now log in.",console.log("Registration successful for:",i.value),setTimeout(()=>{R.push("/login")},2e3)):a.value="Please fill in all required fields."}catch(e){a.value="An unexpected error occurred during registration.",console.error("Registration error:",e)}finally{o.value=!1}};return(g,e)=>{const P=b("vue-recaptcha"),V=b("router-link");return n(),q(E,null,{default:_(()=>[s("div",T,[s("div",L,[e[10]||(e[10]=s("h2",{class:"register-title"},"Create Your ComicVerse Account",-1)),e[11]||(e[11]=s("p",{class:"register-subtitle"},"Join us to explore the Marvel Universe.",-1)),s("form",{onSubmit:M(k,["prevent"]),class:"register-form"},[s("div",D,[e[4]||(e[4]=s("label",{for:"username",class:"form-label"},"Username",-1)),c(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),placeholder:"Choose a username",class:"form-input",required:""},null,512),[[p,i.value]])]),s("div",I,[e[5]||(e[5]=s("label",{for:"email",class:"form-label"},"Email",-1)),c(s("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),placeholder:"Enter your email address",class:"form-input",required:""},null,512),[[p,f.value]])]),s("div",S,[e[6]||(e[6]=s("label",{for:"password",class:"form-label"},"Password",-1)),c(s("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>l.value=t),placeholder:"Create a password",class:"form-input",required:""},null,512),[[p,l.value]])]),s("div",Y,[e[7]||(e[7]=s("label",{for:"confirmPassword",class:"form-label"},"Confirm Password",-1)),c(s("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=t=>v.value=t),placeholder:"Re-enter your password",class:"form-input",required:""},null,512),[[p,v.value]])]),w(P,{onVerify:C}),a.value?(n(),d("p",j,h(a.value),1)):y("",!0),u.value?(n(),d("p",z,h(u.value),1)):y("",!0),s("button",{type:"submit",disabled:o.value,class:"register-button"},[o.value?(n(),d("span",F)):(n(),d("span",G,"Register Account"))],8,J),s("p",H,[e[9]||(e[9]=x(" Already have an account? ",-1)),w(V,{to:"/login",class:"link-text"},{default:_(()=>e[8]||(e[8]=[x("Log In",-1)])),_:1,__:[8]})])],32)])])]),_:1})}}}),X=N(K,[["__scopeId","data-v-0dc0cf7f"]]);export{X as default};
